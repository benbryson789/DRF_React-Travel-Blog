{"ast":null,"code":"var _jsxFileName = \"/Users/debrashelby/Desktop/DRF/newproject/DRF_React-Travel-Blog/travelblog/src/Pages/ManageBlogs.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport NavBar from './NavBar';\nimport Footer from './Footer';\nimport ProfileSidebar from './ProfileSidebar';\nimport { useHistory } from 'react-router';\nimport { API_PATH } from './API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ManageBlogs = () => {\n  _s();\n\n  const [blogList, setBlogList] = useState([]);\n  const [deleteItem, setDeletedItem] = useState(''); // fetch calls django api from manage blogs\n  // localStorage.getItem calls log in user//local storage stores the id of user in browser cookies\n\n  const history = useHistory();\n  useEffect(() => {\n    fetch(API_PATH + \"api-manage-blogs/\" + localStorage.getItem(\"loginStatus\")).then(response => response.json()) // returns blog list data in UseState\n    .then(data => {\n      setBlogList(data);\n    }).catch(err => alert(\"API Error\")); // if\n  }, [deleteItem]);\n\n  const handleDelete = id => {\n    fetch(API_PATH + \"api-delete-blogs/\" + id).then(response => response.json()).then(data => {\n      alert(\"Successfully deleted Post!\");\n      setDeletedItem(id);\n    }).catch(err => alert(\"API Error\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container profilePage\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(ProfileSidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-9\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-9\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"My Blogs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 38,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 37,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3 text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/manage-blogs/add\",\n                    onClick: e => {\n                      e.preventDefault();\n                      history.push('/manage-blogs/add');\n                    },\n                    className: \"btn btn-primary\",\n                    children: \"Add New \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 41,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: [\"  \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 44,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: Object.keys(blogList).map((data, index) => /*#__PURE__*/_jsxDEV(\"article\", {\n                    children: [console.log(data), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-sm-6 col-md-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: `${API_PATH}media/${blogList[data].media}`,\n                            alt: \"\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 55,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 54,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 53,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-sm-6 col-md-8\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          children: blogList[data].title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 59,\n                          columnNumber: 42\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: blogList[data].excerpt\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 60,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"/\",\n                            onClick: e => {\n                              e.preventDefault();\n                              history.push('/manage-blogs/edit/' + data);\n                            },\n                            className: \"btn btn-primary\",\n                            children: \"Edit \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 65,\n                            columnNumber: 45\n                          }, this), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"/\",\n                            onClick: e => {\n                              e.preventDefault();\n                              handleDelete(data);\n                            },\n                            className: \"btn btn-danger\",\n                            children: \"Delete \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 66,\n                            columnNumber: 45\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 61,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 58,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 52,\n                      columnNumber: 33\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 50,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 2\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ManageBlogs, \"Xa3R3Il+U9yQ7PAFCYuVP63UeI8=\", false, function () {\n  return [useHistory];\n});\n\n_c = ManageBlogs;\nexport default ManageBlogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageBlogs\");","map":{"version":3,"sources":["/Users/debrashelby/Desktop/DRF/newproject/DRF_React-Travel-Blog/travelblog/src/Pages/ManageBlogs.js"],"names":["React","useState","useEffect","NavBar","Footer","ProfileSidebar","useHistory","API_PATH","ManageBlogs","blogList","setBlogList","deleteItem","setDeletedItem","history","fetch","localStorage","getItem","then","response","json","data","catch","err","alert","handleDelete","id","e","preventDefault","push","Object","keys","map","index","console","log","media","title","excerpt"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport NavBar from './NavBar';\nimport Footer from './Footer';\nimport ProfileSidebar from './ProfileSidebar';\nimport { useHistory } from 'react-router';\nimport { API_PATH } from './API';\nconst ManageBlogs = () =>{\n    const[blogList,setBlogList] = useState([]);\n    const[deleteItem,setDeletedItem] = useState('');\n// fetch calls django api from manage blogs\n// localStorage.getItem calls log in user//local storage stores the id of user in browser cookies\n    const history = useHistory();\n\t useEffect(()=>{\n        fetch(API_PATH+\"api-manage-blogs/\"+localStorage.getItem(\"loginStatus\"))\n        .then(response=> response.json())\n// returns blog list data in UseState\n        .then(data=>{ setBlogList(data)})\n        .catch(err=> alert(\"API Error\"))\n// if\n    },[deleteItem]);\n\tconst handleDelete = (id)=>{\n\t\tfetch(API_PATH+\"api-delete-blogs/\"+id)\n\t\t.then(response=> response.json())\n\t\t.then(data=>{alert(\"Successfully deleted Post!\"); setDeletedItem(id); })\n\t\t .catch(err=> alert(\"API Error\"))\n\t}\nreturn (\n    <>\n<NavBar />\n<div className=\"container profilePage\">\n\t<div className=\"row\">\n        <ProfileSidebar/>\n        <div className=\"col-md-9\">\n\t\t    <div className=\"card\">\n\t\t        <div className=\"card-body\">\n\t\t            <div className=\"row\">\n\t\t                <div className=\"col-md-9\">\n\t\t                    <h4>My Blogs</h4>\n                            </div>\n                            <div className=\"col-md-3 text-right\">\n                            <a href=\"/manage-blogs/add\" onClick={(e)=>{e.preventDefault();history.push('/manage-blogs/add');}} className=\"btn btn-primary\">Add New </a>\n\t\t                   \n\t\t                </div>\n                      <div className=\"col-md-12\">  <hr/></div>\n\t\t            </div>\n\n\t\t            <div className=\"row\">\n\t\t                <div className=\"col-md-12\">\n\t\t\t\t\t\t{Object.keys(blogList).map((data,index)=>(\t\n                            <article key={index}>\n\t\t\t\t\t\t\t\t{console.log(data)}\n                                <div className=\"row\">\n                                    <div className=\"col-sm-6 col-md-4\">\n                                        <figure>\n                                            <img src={`${API_PATH}media/${blogList[data].media}`} alt=\"\"/>\n                                        </figure>\n                                    </div>\n                                    <div className=\"col-sm-6 col-md-8\">\n                                         <h4>{blogList[data].title}</h4>\n                                        <p>{blogList[data].excerpt}</p>\n                                        <section>\n                                            {/* prevent default behavior of onClick */}\n                                            {/* history push-insteading of changing url in browser it calls antother component */}\n                                            {/* manage-blogs/edit is calling edit routing in app.js */}\n                                            <a href=\"/\" onClick={(e)=>{e.preventDefault();history.push('/manage-blogs/edit/'+data);}}  className=\"btn btn-primary\">Edit </a> &nbsp;\n                                            <a href=\"/\" onClick={(e)=>{e.preventDefault(); handleDelete(data);}} className=\"btn btn-danger\">Delete </a>\n                                        </section>\n                                    </div>\n                                </div>\n                            </article>\n\t\t\t\t\t\t ))}\n                        </div>\n                </div>\n                        \n                </div>\n            </div>\n\t\t</div>\n\n\n        </div>\n    </div>    \n<Footer />\n    </>\n)\n\n}\nexport default  ManageBlogs;"]},"metadata":{},"sourceType":"module"}